<!DOCTYPE html>
  <html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <div>

    </div>
    <script type="text/javascript">
        /* 
            给你一个长度为 n 的整数数组 nums，
            其中 nums 的所有整数都在范围 [1, n] 内，
            且每个整数出现 一次 或 两次 。
            请你找出所有出现 两次 的整数，并以数组形式返回。
            你必须设计并实现一个时间复杂度为 O(n) 且仅使用常量额外空间的算法解决此问题。
        */
        /**
        * @param {number[]} nums
        * @return {number[]}
        */
        var findDuplicates = function(nums) {
            var changePos = (nums, index1, index2) => {
                const curr = nums[index1];
                nums[index1] = nums[index2];
                nums[index2] = curr;
            }
            const n = nums.length;
            for(let i = 1; i<=n; i++){
                while(nums[nums[i]-1] !== nums[i]){
                    changePos(nums, i, nums[i]-1,)
                }
            }
            const ans = [];
            for (let i = 0; i < n; ++i) {
                if (nums[i] - 1 !== i) {
                    ans.push(nums[i]);
                }
            }
            return ans;
        };
        findDuplicates([4,3,2,7,8,2,3,1]);
    </script>
  </body>
</html>