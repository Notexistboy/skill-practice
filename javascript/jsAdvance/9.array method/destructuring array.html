<!DOCTYPE html>
  <html >
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <div class="container">

    </div>
    <script type="text/javascript">
      /* 如果等号的右边不是数组（或者严格地说，不是可遍历的结构，参见《Iterator》一章），那么将会报错。 */
      const numbers = ['one', 'two', 'three', 'four']
      // const one = numbers[0]
      // const two = numbers[1]
      //const[one, two] = numbers //one = 'one' two = 'two'
      //const[one, ,three] = numbers //one = 'one' three = 'three'
      //const[, ,three] = numbers //three = 'three'
      //const[one, ...others] = numbers rest参数一定要在最后

      const details = ['JellyBool','laravist']
      //当参数是undefined时，会使用默认参数
      const [name, website, category = 'php'] = details
      console.log(name, website, category)

      const [foo, bar, ...baz] = ['foo']
      //foo = 'foo'
      //bar = undefined //如果解构不成功，变量的值就等于undefined。
      //baz = []
      const [a, b, c] = [1, [2, 3], 4] 
      //a = 1 b = [2,3] c = 4
      const [d, e, f] = [1, [2, 3], 4] 
      //d = 1 e = 2 f = 4

      /* Set结构和Map结构都是可以通过forEach和for...of...进行遍历 */
      const [x, y, z] = new Set([1,2,3])
      //x = 1 y = 2 z = 3

      const [u, v, w] = new Map([['one',1],['two',2],['three',3]])
      //x =  ["one", 1] y = ['two',2] z = ['three',3]

      const {one, two, three} = new Map([['one',1],['two',2],['three',3]])
      //one undefined

      //如果等号的右边不是数组（或者严格地说，不是可遍历的结构，参见《Iterator》一章），那么将会报错。

      // 报错
      /* let [foo] = 1;
      let [foo] = false;
      let [foo] = NaN;
      let [foo] = undefined;
      let [foo] = null;
      let [foo] = {}; */

      /* 解构赋值允许指定默认值。 */

      let [foo = true] = [];
      foo // true

      let [x, y = 'b'] = ['a']; // x='a', y='b'
      let [x, y = 'b'] = ['a', undefined]; // x='a', y='b'
      /* 注意，ES6 内部使用严格相等运算符（===），
      判断一个位置是否有值。
      所以，只有当一个数组成员严格等于undefined，默认值才会生效。 */

      let [x = 1] = [undefined];
      x // 1

      let [x = 1] = [null];
      x // null
      /* 上面代码中，如果一个数组成员是null，默认值就不会生效，因为null不严格等于undefined。
      如果默认值是一个表达式，那么这个表达式是惰性求值的，即只有在用到的时候，才会求值。 */
      function f() {
        console.log('aaa');
      }

      let [x = f()] = [1];
      //上面代码中，因为x能取到值，所以函数f根本不会执行。上面的代码其实等价于下面的代码。

      let x;
      if ([1][0] === undefined) {
        x = f();
      } else {
        x = [1][0];
      }
      /* 默认值可以引用解构赋值的其他变量，但该变量必须已经声明。 */

      let [x = 1, y = x] = [];     // x=1; y=1
      let [x = 1, y = x] = [2];    // x=2; y=2
      let [x = 1, y = x] = [1, 2]; // x=1; y=2
      //let [x = y, y = 1] = [];     // ReferenceError: y is not defined
      /* 上面最后一个表达式之所以会报错，是因为x用y做默认值时，y还没有声明。 */
      
    </script>
  </body>
</html>