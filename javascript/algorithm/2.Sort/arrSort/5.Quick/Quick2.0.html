<!DOCTYPE html>
  <html >
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <div>

    </div>
    <script type="text/javascript">
      /*
      　（1）在数据集之中，选择一个元素作为"基准"（pivot）。
　      （2）所有小于"基准"的元素，都移到"基准"的左边；所有大于"基准"的元素，都移到"基准"的右边。
　      （3）对"基准"左边和右边的两个子集，不断重复第一步和第二步，直到所有子集只剩下一个元素为止。 
      */
      var arr = [9,12,7,27,5,24,6,10]
      function arrSort(arr) {
        // 交换
        function swap(arr, a, b) {
            [arr[a], arr[b]] = [arr[b], arr[a]]
            debugger
        }
        // 分区
        function partition(arr, left, right) {
          /**
          * 开始时不知最终pivot的存放位置，可以先将pivot交换到后面去
          * 这里直接定义最右边的元素为基准
          */
          var pivot = arr[right];
          debugger
          /**
          * 存放小于pivot的元素时，是紧挨着上一元素的，否则空隙里存放的可能是大于pivot的元素，
          * 故声明一个storeIndex变量，并初始化为left来依次紧挨着存放小于pivot的元素。
          */
          var storeIndex = left;
          debugger
          for (var i = left; i < right; i++) {
            debugger
            if (arr[i] < pivot) {
                /**
                * 遍历数组，找到小于的pivot的元素，（大于pivot的元素会跳过）
                * 将循环i次时得到的元素，通过swap交换放到storeIndex处，
                * 并对storeIndex递增1，表示下一个可能要交换的位置
                */
                debugger
                swap(arr, storeIndex, i);
                debugger
                storeIndex++;
            }
          }

          // 最后： 将pivot交换到storeIndex处，基准元素放置到最终正确位置上
          swap(arr, right, storeIndex);
          debugger
          return storeIndex;
        }
        
        function sort(arr, left, right) {
          //判断长度
          if (left > right) return;
          debugger
          var storeIndex = partition(arr, left, right);
          //传入函数
          debugger
          sort(arr, left, storeIndex - 1);
          debugger
          sort(arr, storeIndex + 1, right);

        }
        //入口
        debugger
        sort(arr, 0, arr.length - 1);
        return arr;
      }

      var result = arrSort(arr)
      console.log(result)
    </script>
  </body>
</html>